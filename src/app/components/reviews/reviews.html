<div class="average-rating">
  <span>Valutazione media: {{ averageRating | number : '1.1-2' }} / 5</span>
</div>
<div class="review-carousel">
  <button mat-icon-button class="nav-btn" (click)="prev()" [disabled]="currentIndex === 0" *ngIf="reviews.length > 3">
    <mat-icon>chevron_left</mat-icon>
  </button>
  <div class="reviews">
    <div class="review-card" *ngFor="let review of visibleReviews">
      <!-- Row 1: Avatar, Nome, Stelle -->
      <div class="review-row row1">
        <div class="avatar">{{ review.firstName.charAt(0) }}</div>
        <div class="reviewer">{{ review.firstName }} {{ review.lastName }}</div>
        <div class="rating">
          <span *ngFor="let star of [].constructor(review.rating)">★</span>
          <span *ngFor="let star of [].constructor(5 - review.rating)">☆</span>
        </div>
      </div>
      <!-- Row 2: Titolo -->
      <div class="review-row row2">
        <div class="title">{{ review.reviewTitle || 'Titolo recensione' }}</div>
      </div>
      <!-- Row 3: Testo recensione -->
      <div class="review-row row3">
        <div class="text">{{ review.body }}</div>
      </div>
    </div>
  </div>
  <button
    mat-icon-button
    class="nav-btn"
    (click)="next()"
    [disabled]="currentIndex >= reviews.length - 3"
    *ngIf="reviews.length > 3"
  >
    <mat-icon>chevron_right</mat-icon>
  </button>
</div>
