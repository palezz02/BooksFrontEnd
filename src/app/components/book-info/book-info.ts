import { Component } from '@angular/core';

export interface Book {
  title: string;
  author: string;
  publisher: string;
  category: string[];
  year: number;
  description: string;
  price: number;
  imageUrl?: string;
}

@Component({
  selector: 'app-book-info',
  standalone: false,
  templateUrl: './book-info.html',
  styleUrl: './book-info.css',
})
export class BookInfo {
  book: Book = {
    title: 'Le avventure di Kiwi',
    author: 'Kiwi',
    publisher: 'kiwipublishing',
    category: ['Avventura', 'Fantasy'],
    year: 2023,
    description:
      'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',
    price: 19.99,
    imageUrl: 'https://covers.openlibrary.org/b/oclc/28419896-L.jpg',
  };

  showPublisherPopup: boolean = false;

  publisherData: { name: string; description: string } | null = null;

  showAuthorPopup: boolean = false;
  authorData: {
    fullName: string;
    biography: string;
    birthDate: Date;
    deathDate: Date;
    coverImage?: string;
  } | null = null;

  openPublisherPopup() {
    this.publisherData = {
      name: this.book.publisher,
      description: `kiwiPublishing has been bringing imaginative worlds to readers for over 20 years. 
    From epic fantasy to thought-provoking science fiction, our books transport you into adventures you'll never forget. 
    Join us on a journey through magical lands, futuristic galaxies, and thrilling mysteries, all crafted by top authors 
    passionate about storytelling.`,
    };
    this.showPublisherPopup = true;
  }

  closePublisherPopup() {
    this.showPublisherPopup = false;
  }

  openAuthorPopup() {
    this.authorData = {
      fullName: this.book.author,
      biography:
        'Kiwi is a celebrated author known for captivating storytelling and rich, imaginative worlds.',
      birthDate: new Date('1980-05-15'),
      deathDate: new Date('2020-11-30'),
      coverImage: 'data:image/jpeg;base64,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',
    };
    this.showAuthorPopup = true;
  }

  closeAuthorPopup() {
    this.showAuthorPopup = false;
  }

  quantity: number = 1;

  addToCart() {
    // Qui va la logica per aggiungere al carrello
    alert(`Aggiunto ${this.quantity} x ${this.book.title} al carrello!`);
  }

  buyNow() {
    // Qui va la logica per acquisto immediato
    alert(`Acquisto immediato: ${this.quantity} x ${this.book.title}`);
  }
}
